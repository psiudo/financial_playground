<!-- back/docs/사용자 알고리즘 자동투자.md -->

## ✅ 사용자 정의 알고리즘 기반 자동 투자 및 비교 흐름

**[목표]** 사용자는 본인의 투자 전략(알고리즘)을 정의하고, 해당 알고리즘에 따라 자동으로 매매 시뮬레이션을 수행하며, 다른 사용자들의 전략과 수익률을 비교하거나 구입한다.

---

### 시나리오

#### 1. 알고리즘 설계

1. 사용자는 ‘가상 투자 > 알고리즘 전략 만들기’ 메뉴로 진입한다.
2. 시스템은 전략 이름과 함께 투자 조건 입력 UI를 제공한다.
   - 조건은 템플릿 또는 커스텀 방식으로 작성할 수 있다.
   - 예시 조건:
     - PER < 15 AND 시가총액 상위 100위
     - 3일 이동 평균선이 상승 중인 종목
     - 수익률 -10% 이하 시 자동 매도
3. 사용자는 조건을 조합하여 전략을 정의하고, 저장 시 전략 이름과 설명을 함께 등록한다.
4. 저장 후 사용자는 “이 알고리즘으로 시뮬레이션 시작” 버튼을 클릭한다.

#### 2. 알고리즘 실행

5. 시스템은 다음 초기값으로 시뮬레이션을 시작한다:
   - 가상 자산 1,000만 원
   - 지정된 기간(예: 최근 3개월 또는 실시간)
   - 선택된 종목 집합
6. 시스템은 알고리즘을 조건대로 실행하며,
   - 매수/매도 내역을 자동 생성
   - 거래 일시, 거래 가격, 수량, 전략 ID 저장
7. 실행이 완료되면 다음 정보를 제공한다:
   - 전체 수익률
   - 누적 거래 횟수
   - 수익률 추이 그래프
   - 보유 종목 현황

#### 3. 알고리즘 비교 및 공유

8. 사용자는 ‘전략 비교 보기’ 메뉴에서 다른 사용자 알고리즘을 열람하고, 수익률, 거래 내역, 전략 조건 등을 확인한다.
9. 사용자는 다음 중 하나를 선택할 수 있다:
   - “내 전략과 비교하기”
   - “전략 복제(fork)하기”
   - “이 전략 구입하기” (포인트/가상 화폐 기반)
10. 전략을 구입하면 해당 알고리즘을 자신의 전략 목록에 저장하고, 복제 후 수정하여 재사용할 수 있다.

---

### 조건 분기 정리

| 조건 | 처리 방식 |
|------|------------|
| 조건 누락 | 전략 저장 불가, 경고 표시 |
| 동일 조건 전략 중복 | 저장 가능하나 이름 필수 |
| 실행 중 중단 | 중단 시점까지 결과 기록 |
| 비교 기준 기간 불일치 | 기준 기간으로 변환 후 비교 |
| 타인 전략 열람 | 읽기 전용, fork 또는 구입 가능 |

---

### UX 흐름 요약

\[전략 생성 페이지\]  
  ↓  
\[조건 조합 → 저장 → 실행\]  
  ↓  
\[자동 거래 → 수익률 저장\]  
  ↓  
\[내 전략 대시보드\]  
  ↓  
\[전략 비교 → fork / 구매 / 수정\]

---

### 보완 요소 (심화 설계 가능)

- **알고리즘 Fork 기능**: 다른 사람 전략을 복제하여 내 전략으로 수정 가능
- **조건 템플릿 추천**: ‘단기 반등형’, ‘가치 투자형’ 등 사전 정의된 전략 제공
- **AI 분석 연계**: 전략 성능을 분석하여 개선 팁 제공 (예: “종목 필터를 더 줄여보세요”)
- **전략 구매 기능**: 성과가 높은 전략은 가상 포인트로 구매 가능. 유료 전략 마켓 운영 가능성

