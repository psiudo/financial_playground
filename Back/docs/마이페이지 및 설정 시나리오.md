<!-- docs/마이페이지 및 설정 시나리오.md -->
## ✅ 마이페이지 및 설정 흐름

**[목표]** 사용자는 본인의 프로필 정보를 확인하고, 이메일·비밀번호 변경, 투자 성향 재설정, 탈퇴 등을 수행할 수 있다.

---

### 시나리오

#### 1. 마이페이지 접근

1. 로그인한 사용자는 화면 우측 상단의 ‘프로필 아이콘’을 클릭한다.
2. 드롭다운 메뉴에서 ‘마이페이지’ 또는 ‘내 정보 관리’ 항목을 선택한다.
3. 사용자는 마이페이지에서 다음 정보를 확인할 수 있다:
   - 이름, 이메일, 가입일자
   - 투자 성향, 직업, 소득
   - 현재 사용 중인 로그인 방식 (일반 / 소셜)
   - 내 알고리즘 전략 수, 누적 수익률

#### 2. 사용자 정보 수정

4. 사용자는 ‘정보 수정’ 버튼을 클릭하면 수정 가능한 폼으로 전환된다.
5. 수정 가능한 항목:
   - 이름 (선택)
   - 투자 성향
   - 직업
   - 연 소득
6. 저장 시, 시스템은 입력값 검증 후 변경 사항을 저장하고 완료 메시지를 보여준다.

#### 3. 비밀번호 변경 (일반 회원)

7. 일반 로그인 사용자는 ‘비밀번호 변경’ 메뉴에 접근할 수 있다.
8. 사용자 입력:
   - 기존 비밀번호
   - 새 비밀번호
   - 새 비밀번호 확인
9. 시스템은 다음을 검증한다:
   - 기존 비밀번호 일치 여부
   - 새 비밀번호 조건 만족 여부 (8자 이상, 영문/숫자 조합 등)
10. 검증 성공 시, 비밀번호가 변경되며 재로그인 유도 또는 완료 안내가 표시된다.

※ 소셜 로그인 사용자는 비밀번호 변경 메뉴가 비활성화됨

#### 4. 계정 탈퇴

11. 사용자는 마이페이지 하단의 ‘계정 탈퇴’ 버튼을 클릭한다.
12. 시스템은 다음을 안내한다:
   - 탈퇴 시 삭제되는 정보
   - 복구 불가 안내
   - 현재 보유한 가상 자산 및 포트폴리오 정보 유실 경고
13. 사용자가 “탈퇴 확인”을 클릭하면 계정이 삭제되며 자동 로그아웃 처리된다.

---

### 조건 분기 정리

| 조건 | 처리 방식 |
|------|------------|
| 소셜 로그인 사용 | 비밀번호 변경 불가 (비활성화 또는 안내문) |
| 기존 비밀번호 불일치 | 비밀번호 변경 실패, 경고 표시 |
| 탈퇴 시 ‘확인’ 미입력 | 탈퇴 처리 중단 |
| 정보 입력 누락 | 저장 불가, 입력 폼 유지 |

---

### UX 흐름 요약

\[마이페이지 진입\]  
   ↓  
\[프로필 정보 조회\]  
   ↓  
\[정보 수정] or [비밀번호 변경] or [계정 탈퇴\]  
   ↓  
\[저장 / 검증 / 안내 → 완료 처리\]

---

### 보완 요소 (옵션 설계 가능)

- 2단계 인증 설정 (보안 강화 시나리오 추가 가능)
- 로그인 기록 확인 (마지막 로그인 지역, 시간 확인)
- 소셜 계정 연동 해제/연결 기능
