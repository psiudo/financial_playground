<!-- back/README.md -->
<!-- README.md -->
# 📄 README.md

# Stock Insight - 가상 투자 기능 추가

## 1. 프로젝트 개요
Stock Insight는 주식 종목 분석, 커뮤니티, 대시보드를 제공하는 주식 정보 플랫폼이다.  
이번에 "가상 투자 시뮬레이션" 기능이 새롭게 추가되었다.

- 사용자는 가상의 자산(1천만 원)으로 투자할 수 있다.
- 매수/매도 기록이 자동으로 관리된다.
- 수익률을 실시간으로 확인할 수 있다.

---

## 2. 기존 주요 기능

- 커뮤니티: 자유롭게 글 작성 및 정보 공유, 댓글, 대댓글, 게시글 및 댓글 반응 구현
- 주식 분석: 보유 주식 및 관심 종목 분석 기능
- 대시보드: 개인화된 주식 및 수익률 현황
- 회원 기능: 로그인, 회원가입, 프로필 수정, 소셜 로그인 (구글 구현, 카카오 아직 허가 안됨, etc 예정중)

---

## 3. 추가된 가상 투자 기능

### (1) 포트폴리오 조회 (`/simulator/portfolio/`)

- 현재 보유한 가상 주식 목록 확인
- 주식별 구매가, 현재가, 구매 총액, 현재 총액, 수익률 표시
- 종목 별 매도 기능 제공

### (2) 가상 주식 매수 (`/simulator/buy/`)

- 미리 지정된 종목 중 하나를 선택해 매수
- 매수는 현재 시장가로 자동 적용
- 매수 시 잔여 가상 자산에서 차감

**지원 종목:** 삼성전자, SK하이닉스, LG에너지솔루션

### (3) 가상 주식 매도 (`/simulator/sell/<trade_id>/`)

- 보유한 주식을 원하는 가격에 매도
- 매도 시 가상 자산 잔고에 추가
- 매도 후 매도한 거래는 기록으로 남음

### (4) 거래 내역 조회 (`/simulator/history/`)

- 모든 매수/매도 기록 조회 가능
- 가장 최근 거래가 위에 표시

---

## 4. 기술 스택

- Django 4.2
- Python 3.12
- Bootstrap 5 (프론트엔드 스타일링)
- Yahoo Finance API (yfinance) 기반 가격 조회
- SQLite (로컬 DB)

---

## 5. 구현 구조

- simulator/
  - migrations/ : 마이그레이션 파일
  - services/
    - price_service.py : 주식 현재가 조회 서비스
  - templates/
    - simulator/
      - buy_stock.html : 주식 매수 화면
      - my_portfolio.html : 내 포트폴리오 화면
      - sell_stock.html : 주식 매도 화면
      - trade_history.html : 거래 내역 화면
  - templatetags/
    - simulator_extras.py : 템플릿 커스텀 필터 (곱하기 연산자 mul)
  - admin.py : 어드민 설정
  - apps.py : 앱 설정
  - forms.py : 매수 폼 정의
  - models.py : 포트폴리오, 거래 모델 정의
  - urls.py : simulator 관련 URL 매핑
  - views.py : 가상 투자 핵심 로직 구현

---

## 6. 주요 주의 사항

- 매수/매도는 가상 자산으로만 이루어지며 실제 거래는 아니다.
- 주식 종목은 현재 고정된 3개로 한정되어 있다.
- 가격은 실시간 조회 기반으로 약간의 차이가 있을 수 있다.
- 사용자 별 별도 가상 포트폴리오 유지된다.

---

## 7. 앞으로 추가할 기능 (계획)

- 사용자 맞춤 투자 알고리즘 설정
- 특정 시기부터 알고리즘 적용 시 수익률 추이 시뮬레이션
- 투자 결과 그래프 시각화
- 더 다양한 종목, 시세 조회 API 연결
- 사용자별 매수/매도 전략 자동화